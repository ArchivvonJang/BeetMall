<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.beetmall.sshj.dao.ProductDAO">
	<select id="boardAllRecord" resultType="com.beetmall.sshj.vo.ProductVO">
		
	</select>
	<insert id="productInsert" parameterType="com.beetmall.sshj.vo.ProductVO">
		insert into product (productnum, userid, mcatenum, productname, productprice, saleselect, saleb, optionselect,
								sellstart,sellfinish, totalstock, nowstock, thumbimg, addimg,
                    			productcontent, deliveryoption, deliverprice, paymentoption, selloption, sellweight,
                     			origin, wrapping, productinfomation, prevention, deadline)
                     			
       	values(productsq.nextval, #{productnum}, #{userid}, #{mcatenum}, #{productname}, #{productprice}, #{saleselect}, #{saleb}, #{optionselect}
       			#{sellsatart},#{sellfinish},#{totalstock},#{nowstock},#{thumbimg},#{addimg},
       			#{productcontent}, #{deliveryoption}, #{deliverprice}, #{paymentoption}, #{selloption}, #{sellweight}, 
       			#{origin}, #{wrapping}, #{productinformation}, #{prevention}, #{deadline})       				
	</insert>
	<insert id="productInsert" parameterType="com.beetmall.sshj.vo.ProductVO">
		insert all
			when optionselect = 1 and productnum = 26 then
			into optiontbl values(optionsq.nextval, 86, '삼잎국화물', 300, 300, 11000)
			when saleselect = 1 and productnum = 26 then
			into discount values(86, -1000, '21/05/05', '21/05/07')
			select saleselect, optionselect, productnum from product ;
	</insert>
</mapper>